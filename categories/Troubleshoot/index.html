<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Category: Troubleshoot - Crucian Carp</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="naver-site-verification" content="2316a6af47a7b653c7f6af966d7c718fb98027ed">

<link rel="canonical" href="https://aaronryu.github.io/categories/troubleshoot/">


    <meta name="description" content="Cool heads but warm hearts">
<meta property="og:type" content="website">
<meta property="og:title" content="Crucian Carp">
<meta property="og:url" content="https://aaronryu.github.io/categories/Troubleshoot/index.html">
<meta property="og:site_name" content="Crucian Carp">
<meta property="og:description" content="Cool heads but warm hearts">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Crucian Carp">
<meta name="twitter:description" content="Cool heads but warm hearts">



<link rel="alternative" href="atom.xml" title="Crucian Carp" type="application/atom+xml">



<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/androidstudio.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-134840627-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134840627-1');
</script>


    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                Crucian Carp
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-9-tablet is-9-desktop is-9-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/categories">Categories</a></li>
            
            <li class="is-active"><a href="#" aria-current="page">Troubleshoot</a></li>
        </ul>
        </nav>
    </div>
</div>

    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <!-- <time class="level-item has-text-grey" datetime="2019-03-07T16:46:09.000Z">2019-03-08</time> -->
                <div class="level-item has-text-grey">2019-03-08</div>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Troubleshoot/">Troubleshoot</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Troubleshoot/Database/">Database</a>
                </div>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/03/08/all-about-locks-of-nolock-in-mssql/">MSSQL - &#39;NOLOCK&#39; 은 사실 또 다른 &#39;LOCK&#39; 이다</a>
            
        </h1>
        <div class="content">
            <h1 id="이슈-ALTER-Lock-에-의한-DB-커넥션-급증"><a href="#이슈-ALTER-Lock-에-의한-DB-커넥션-급증" class="headerlink" title="이슈 - ALTER Lock 에 의한 DB 커넥션 급증"></a>이슈 - ALTER Lock 에 의한 DB 커넥션 급증</h1><p>특정 테이블에 ALTER 를 사용하여 필드 한개를 추가하자 해당 테이블을 사용하는 서비스에 이슈가 발생했었습니다. 당시 RDB 로 MSSQL 을 사용하고 있었는데 ALTER 를 수행한 순간부터 DB에 대한 커넥션이 급증하였고 커넥션 그래프는 마치 예술처럼 가운데 손가락을 <del>정말로 네 손가락의 디테일까지 다 살려서</del> 그리고 있었습니다.</p>
<center><img src="/2019/03/08/all-about-locks-of-nolock-in-mssql/connection.jpg"></center>

<p>해당 테이블이 가격에 대한 테이블이었던 만큼 가격을 사용하는 모든 서비스들에 에러가 발생했습니다. 에러는 가격 정보를 제공하는 API 를 사용하는 서버에 까지 전파되어 장애를 일으켰습니다. 해결을 위해 DB 서버를 보던 중 어느 한 SELECT 구문에 오랜시간동안 Lock 이 걸려있었고, 이 Lock 을 가진 프로세스를 Kill 하면서 이슈는 해결되었습니다. <del>뻐큐는 사라졌습니다.</del> </p>
<p>왜 Lock 이 걸렸는지를 추적하던 끝에 몇 귀한 아티클들을 찾아 정확한 원인을 찾을 수 있었고, 여기에 그 정보를 공유하려합니다.</p>
<h1 id="“SELECT-…”"><a href="#“SELECT-…”" class="headerlink" title="“SELECT …”"></a>“SELECT …”</h1><p>일반적으로 SELECT (읽기) 쿼리를 통해 데이터를 읽을때 2 가지를 고려합니다.</p>
<ul>
<li>나의 SELECT 쿼리를 호출 시 테이블에 걸린 <strong>Lock 을 무시하고 바로 읽고싶다.</strong></li>
<li>나의 SELECT 쿼리가 해당 테이블에 <strong>다른 접근들에 대한 Lock 을 걸고싶지 않다.</strong></li>
</ul>
<p>기본 SQL 처럼 MSSQL 도 마찬가지로 <strong>SELECT 할 경우 INSERT, UPDATE, DELETE 와 같은 쿼리에 막히기도, 해당 쿼리들을 막기도</strong>합니다. 해당 테이블의 읽기를 제외한 DML(테이블 데이터 관련 명령어, 반대로 테이블 스키마 관련 명령어는 DDL)의 Lock 과 무관하게 읽고싶다면 <strong>(1) SET TRANSACTION 으로 READ UNCOMMITTED 를 명시</strong>하는데 <strong>(2) MSSQL 은 (NOLOCK) 을 걸어주는 방식도 사용 가능합니다.</strong> 성능 장점에 비해 도중에 변경되는 데이터를 읽어오지 못한다는 단점이 있지만 특수한 상황이 아니라면 가져오는 데이터가 꼭 정확해야할 경우는 적기때문에 크게 신경쓰지 않습니다.</p>
<p>일반적으로 NOLOCK 에 대해서는 INSERT, UPDATE, DELETE 관련 없이 데이터를 읽을 수 있다는 것이 전부입니다. 하지만 <strong>NOLOCK 은 NO LOCK 이라는 단어와 다르게 하나의 LOCK 을 갖는데 이를 Schema Stability Lock(Sch-S)</strong> 이라고 부릅니다. 이는 MSSQL 만의 특별한 LOCK 으로 <strong>테이블 스키마</strong> 에 관련된 LOCK 의 두 종류 중 하나에 해당합니다. NO LOCK 이라면서 사실은 LOCK 이기 때문에 여기서 오는 오해가 있으며, 위 공유드린 이슈는 여기서 비롯된 것입니다.</p>
<h1 id="“SELECT-NOLOCK-…”"><a href="#“SELECT-NOLOCK-…”" class="headerlink" title="“SELECT (NOLOCK) …”"></a>“SELECT (NOLOCK) …”</h1><p>일반적으로 읽는 쿼리를 사용할 때 위에 언급한 2 가지를 고려하기 위해 NOLOCK 을 도입하는데요.<br>충격적이게도 NOLOCK 을 사용하게 되면 아래와 같은 결과를 갖습니다.</p>
<ul>
<li><del>나의 SELECT 쿼리를 호출 시 테이블에 걸린 <strong>Lock 을 무시하고 바로 읽고싶다.</strong></del> -&gt; <strong>Lock(Sch-M) 을 무시할 수 없습니다.</strong></li>
<li><del>나의 SELECT 쿼리가 해당 테이블에 <strong>다른 접근들에 대한 Lock 을 걸고싶지 않다.</strong></del> -&gt; <strong>Lock(Sch-S) 을 겁니다.</strong></li>
</ul>
<p>그럼 Sch-S, Sch-M Lock 은 무엇일까요?</p>
<h1 id="Sch-S-Sch-M-테이블-‘스키마’에-대한-Lock"><a href="#Sch-S-Sch-M-테이블-‘스키마’에-대한-Lock" class="headerlink" title="Sch-S / Sch-M - 테이블 ‘스키마’에 대한 Lock"></a>Sch-S / Sch-M - 테이블 ‘스키마’에 대한 Lock</h1><p>기본적으로 Lock 은 테이블 전체(스키마 + 데이터)에 대해서만 적용되는데요.<br>MSSQL 에는 테이블 스키마만을 위한 2 가지 타입의 특별한 Lock 을 제공합니다.</p>
<h2 id="S-Lock-Shared-Access-Lock"><a href="#S-Lock-Shared-Access-Lock" class="headerlink" title="S Lock (Shared Access Lock)"></a>S Lock (Shared Access Lock)</h2><blockquote>
<p><strong>테이블 데이터</strong> 변경(“Row”)을 막는다.</p>
</blockquote>
<ul>
<li><strong>MSSQL</strong> 의 <strong>기본 읽기 시 (SELECT)</strong> 갖는 <strong>기본 Lock</strong> (기타 SQLs도 마찬가지)<ul>
<li>테이블 데이터 변경은 <strong>막음</strong></li>
</ul>
</li>
</ul>
<h2 id="Sch-S-Lock-Schema-Stability-Lock"><a href="#Sch-S-Lock-Schema-Stability-Lock" class="headerlink" title="Sch-S Lock (Schema Stability Lock)"></a>Sch-S Lock (Schema Stability Lock)</h2><blockquote>
<p><strong>테이블 스키마</strong> 변경(“Column”)을 막는다.</p>
</blockquote>
<ul>
<li><strong>MSSQL</strong> 에서 <strong>(NOLOCK) 또는 READ UNCOMMITED 사용한 읽기 시 (SELECT)</strong> 갖는 <strong>특수 Lock</strong><ul>
<li>테이블 스키마 변경은 <strong>막음</strong></li>
<li>테이블 데이터 변경은 <strong>무시</strong></li>
</ul>
</li>
</ul>
<ul>
<li>테이블 스키마를 고정한다는 의미에서 (Stay the Schema Stable) Schema Stability Lock 으로 부릅니다.</li>
<li><strong>데이터 읽는 과정에서 데이터 일관성을 위해</strong><br>아무리 Lock 을 하고싶지 않더라도 Sch-S 가 없다면 총 100개의 Row 를 읽어오는데 그 중 30개 쯤 읽었을즈음 테이블이 바뀌었다면 나머지 70개의 Row 는 바뀐 테이블의 스키마(컬럼)에 맞춘 데이터를 가져올것이다. 단 하나의 SELECT 쿼리를 수행했는데 데이터의 컬럼에 일관성이 없게 되는 것이므로 Sch-S 는 읽기위한 최소한의 Lock 이라고 보면 됩니다.</li>
</ul>
<h2 id="Sch-M-Lock-Schema-Modification-Lock"><a href="#Sch-M-Lock-Schema-Modification-Lock" class="headerlink" title="Sch-M Lock (Schema Modification Lock)"></a>Sch-M Lock (Schema Modification Lock)</h2><blockquote>
<p><strong>테이블 데이터 및 스키마</strong> 전체 변경(“Column” &amp; “Row”)을 막는다.</p>
</blockquote>
<ul>
<li><strong>MSSQL</strong> 에서 <strong>테이블을 변경하는 작업(DDL) 시</strong> 테이블에 대한 접근 자체를 막는 <strong>특수 Lock</strong><ul>
<li>테이블 스키마 변경은 <strong>막음</strong></li>
<li>테이블 데이터 변경은 <strong>막음</strong></li>
</ul>
</li>
</ul>
<ul>
<li>테이블 스키마를 변경(DDL)한다는 의미의 (Modification on Schema) Schema Modification Lock 로 부릅니다.</li>
<li><strong>테이블 스키마 변경 과정에서 통계나 인덱싱 등 테이블 자체에 대한 추가 작업을 위해</strong></li>
</ul>
<p>일반적인 Lock 은 <strong>테이블</strong>에 걸려있는데, MSSQL 에서는 이런 Lock 에 의해 <strong>테이블 스키마</strong>와 <strong>테이블 데이터</strong> 두 작업이 한번에 잠기는걸 꺼린것으로 보입니다. 결국 Sch-S/M 은 테이블이 아닌 <strong>테이블 스키마</strong>의 변경에 대한 Lock 으로 <strong>테이블 스키마</strong>와 <strong>테이블 데이터</strong>를 나누어서 서로 영향을 최소화하려는 것으로 해석됩니다. 하지만 이런 의도 때문에 NOLOCK 이 사실은 LOCK (정확히는 Sch-S Lock) 이 되었고, 일반적으로는 이를 생각하지 못한채 NOLOCK 을 사용하다 에러가 발생하게 됩니다. 아래서는 이 문제점을 가상 시나리오 별로 추적하면서 알아보겠습니다.</p>
<h1 id="LOCK-on-NOLOCK-시나리오"><a href="#LOCK-on-NOLOCK-시나리오" class="headerlink" title="LOCK on NOLOCK 시나리오"></a>LOCK on NOLOCK 시나리오</h1><h2 id="NOLOCK-is-“Locking”"><a href="#NOLOCK-is-“Locking”" class="headerlink" title="NOLOCK is “Locking”"></a>NOLOCK is <strong>“Locking”</strong></h2><ol>
<li><strong>S</strong> = SELECT</li>
</ol>
<p>서비스 초기에는 가격 정보를 DB로부터 읽어올 때 일반 SELECT 를 사용했습니다. 하지만 가격 정보가 여기저기서 너무 자주 변경되는 이유로 가격 정보 조회 시 몇 ms의 시간이 더 걸리는 것입니다. 심지어 가격 정보는 제품을 볼때와 구매할때 조회하게되는데, 제품이 너무 늦게뜨고 구매시에도 가격을 검사하는 과정에 시간이 너무 길어지는 문제가 있었습니다.</p>
<ol start="2">
<li><strong>Sch-S</strong> = SELECT (NOLOCK)</li>
</ol>
<p>SELECT 시 데이터 변경 쿼리의 영향을 없애서 가격을 더 빠르게 보고, 구매도 더 빠르게 가능하도록 NOLOCK 을 도입했습니다.<br>하지만 일관적인 반환값을 위해 스키마를 잠그는 Sch-S 가 걸리는걸 알지 못했습니다.</p>
<ol start="3">
<li><strong>Sch-M</strong> = ALTER</li>
</ol>
<p>가격은 활용이 많은만큼 해당 테이블에 특정 컬럼을 추가할 일이 생겼습니다. 이를 테이블 스키마를 변경한다고 하는데, 이를 위해 ALTER 를 통해 컬럼을 추가했고 성공했다는 반환값을 받았습니다. 디폴트 값도 설정하지 않았기 때문에 테이블 컬럼 추가는 사실 힘든일이 아니기도 합니다.</p>
<p><strong>MSSQL</strong> 은 <strong>ALTER 를 수행하면 현재 가지고 있는 Old Index 를 컬럼이 추가된 New Index 로 변경합니다.</strong> MSSQL 서버로 <strong>SQL Server 2008 Standard</strong> Edition 을 사용하고 있었는데 버전 문제로 Index 를 바꾸는 아래 두 방식 중 <strong>Offline Rebuild Index</strong> 만을 실행할 수 있었기에 해당 방식으로 인덱싱을 리빌딩하기 시작했습니다.</p>
<blockquote>
<p>MSSQL 의 Rebuild Index 두 방식</p>
<ul>
<li><strong>Offline Rebuild Index</strong><ul>
<li>인덱스 리빌드하려는 테이블에 대해 <strong>Sch-M Lock</strong> (Read/Write)</li>
<li><strong>Old Index 로부터</strong> New Index 를 생성<ul>
<li>어떠한 Read/Write 도 불가능하다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Online Rebuild Index</strong><ul>
<li>인덱스 리빌드하려는 테이블에 대해 <strong>No Lock</strong></li>
<li><strong>Old Index 는 그대로 두고</strong> New Index 를 새로 생성<ul>
<li>그 후 테이블에 대해 매우 짧은 시간 <strong>Sch-M Lock</strong> 을 건 후 New Index 로 바꿔치기</li>
<li>‘반물질 컬럼’을 통해 인덱스 리빌드 중 생긴 변경사항들은 인덱스 전환 후에 동기화 진행</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="NOLOCK-is-“Locked”"><a href="#NOLOCK-is-“Locked”" class="headerlink" title="NOLOCK is “Locked”"></a>NOLOCK is <strong>“Locked”</strong></h2><ol start="4">
<li><strong>Sch-S</strong> = SELECT (NOLOCK)</li>
</ol>
<p>ALTER 를 실행하고 인덱스 리빌드를 하는 와중에도 고객들은 꾸준히 가격을 비교하기도 하고 구매하기도 합니다. 앞선 가격에 대한 SELECT (NOLOCK) 을 수많이 수행하는데 이상하게 고객들이 가격 정보가 보이지 않고 구매도 되지 않는다는 문의 전화를 주기 시작했습니다. CS 전화가 불에 타고 있을때쯤 선임 개발자가 DB 서버를 보니 <strong>가격 SELECT (NOLOCK) 쿼리에 대한 커넥션들이 수천개나 솟구치고 있는것입니다.</strong> DB 서버에서 프로세스 분석 결과 <strong>어떤 하나의 쿼리가 Lock 이 걸린채 그 뒤에 가격 SELECT (NOLOCK) 쿼리가 수천개가 대기</strong>하고 있는걸 확인하고 해당 프로세스를 죽여 장애를 해결하였습니다.</p>
<h1 id="이슈-원인-ALTER-의-Sch-M-에-의한-이후-SELECT-Sch-S-정체"><a href="#이슈-원인-ALTER-의-Sch-M-에-의한-이후-SELECT-Sch-S-정체" class="headerlink" title="이슈 원인 - ALTER 의 Sch-M 에 의한 이후 SELECT(Sch-S) 정체"></a>이슈 원인 - ALTER 의 Sch-M 에 의한 이후 SELECT(Sch-S) 정체</h1><p>ALTER 실행 시에는 분명 테이블에 대한 컬럼은 바로 추가되어 <strong>정상 실행되었다</strong>는 메세지를 받았습니다. 장애 분석 결과 그 ALTER 수행 이후 <strong>Offline Index Rebuild</strong> 가 일어나면서 <strong>해당 가격 테이블에 Sch-M 이 걸린것입니다.</strong> 문제는 Standard Edition 이어서 Offline Index Rebuild 밖에 못하는것도 서러워 죽겠는데 2008 버전에서는 Index Rebuild 가 일어나면 <strong>MSSQL 자체에서 제공하는 통계를 자동으로 업데이트</strong>한다는 것<a href="https://docs.microsoft.com/ko-kr/sql/relational-databases/indexes/reorganize-and-rebuild-indexes?view=sql-server-2017" target="_blank" rel="noopener">^1</a>입니다. 그냥 들으면 문제가 없겠지만 <strong>이 통계 업데이트도 Sch-M 이 발생</strong>하고 꽤나 오랜시간이 걸립니다. </p>
<blockquote>
<p>여기서 이 <strong>Sch-M 뒤에</strong> 가격을 조회하려는 <strong>수천 수만개의 SELECT (NOLOCK) 은 Sch-S 이기 때문에 커넥션을 든채 무한정 기다리다 ConnectionTimeout 발생시키는 다중 추돌 사고가 발생한 것</strong>입니다.</p>
</blockquote>
<hr>
<h1 id="요약"><a href="#요약" class="headerlink" title="요약"></a>요약</h1><ul>
<li>2 가지 타입의 Lock 간 상호작용<ul>
<li>Sch-S Lock 명령어 수행 중 Sch-M Lock 명령어는 앞 Sch-S 명령어가 끝날때까지 대기</li>
<li>Sch-M Lock 명령어 수행 중 이후로 진입되는 모든 Sch-S Lock 명령어들은 앞 Sch-M 명령어가 끝날때까지 모두 대기</li>
</ul>
</li>
</ul>
<ul>
<li>예시: (1) Sch-M 명령어 + (2) Sch-S 명령어 … Sch-S 명령어<ul>
<li>TABLE ALTER 실행에 의한 INDEX REBUILD 발생으로 (1) 명령어가 그 뒤로 진입해서 대기<ul>
<li>Sch-M 은 DDL 의 Lock - 새 컬럼 추가, 기존 컬럼 제거, 인덱스 제거나 리빌드 시 테이블 보호하기 위해</li>
</ul>
</li>
<li>그 이후에 진입하는 (2) 모든 SELECT 명령어들은 수행되지 않은채 무한정 대기</li>
</ul>
</li>
</ul>
<hr>
<p><strong>DDL (Data Definition Language)</strong>: Table Schema 관련 명령어<br><strong>DML (Manipulation)</strong>: Table Data 관련 명령어</p>
<p>Lock 종류 정리 (한): <a href="https://battleracoon.tistory.com/2" target="_blank" rel="noopener">https://battleracoon.tistory.com/2</a><br>Lock 종류 정리 (영): <a href="https://www.sqlshack.com/locking-sql-server/" target="_blank" rel="noopener">https://www.sqlshack.com/locking-sql-server/</a><br>SQL Server Table Hints: <a href="https://www.sqlshack.com/understanding-impact-clr-strict-security-configuration-setting-sql-server-2017/" target="_blank" rel="noopener">https://www.sqlshack.com/understanding-impact-clr-strict-security-configuration-setting-sql-server-2017/</a><br>NOLOCK Locking Issues: <a href="https://hackernoon.com/how-using-nolock-can-block-your-queries-adc8611105ff" target="_blank" rel="noopener">https://hackernoon.com/how-using-nolock-can-block-your-queries-adc8611105ff</a></p>

        </div>
        
        
        
    </div>
</div>










</div>
                
                    




<div class="column is-3-tablet is-3-desktop is-3-widescreen  has-order-1 column-left is-sticky">
    
        
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Design-Pattern/">
            <span class="level-start">
                <span class="level-item">Design Pattern</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Design-Pattern/Adapter-Decorator/">
            <span class="level-start">
                <span class="level-item">Adapter, Decorator</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Design-Pattern/Factory/">
            <span class="level-start">
                <span class="level-item">Factory</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Design-Pattern/Observer/">
            <span class="level-start">
                <span class="level-item">Observer</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Design-Pattern/Singleton/">
            <span class="level-start">
                <span class="level-item">Singleton</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Troubleshoot/">
            <span class="level-start">
                <span class="level-item">Troubleshoot</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Troubleshoot/Database/">
            <span class="level-start">
                <span class="level-item">Database</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Workplace/">
            <span class="level-start">
                <span class="level-item">Workplace</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/avatar.png" alt="Aaron Ryu">
                    
                    
                    <p class="is-size-4 is-block">
                        Aaron Ryu
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Software Developer
                    </p>
                    
                    
                </div>
            </div>
        </nav>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/aaronryu">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Gitlab" href="https://gitlab.com/aaronryu">
                
                <i class="fab fa-gitlab"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="RSS" href="/atom.xml">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        8
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        8
                    </p>
                </div>
            </div>
        </nav>
        
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-07T16:46:09.000Z">2019-03-08</time></div>
                    <a href="/2019/03/08/all-about-locks-of-nolock-in-mssql/" class="has-link-black-ter is-size-6">MSSQL - &#39;NOLOCK&#39; 은 사실 또 다른 &#39;LOCK&#39; 이다</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Troubleshoot/">Troubleshoot</a> / <a class="has-link-grey -link" href="/categories/Troubleshoot/Database/">Database</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-02T12:15:18.000Z">2019-03-02</time></div>
                    <a href="/2019/03/02/singleton-pattern/" class="has-link-black-ter is-size-6">6. 싱글턴 패턴</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Design-Pattern/">Design Pattern</a> / <a class="has-link-grey -link" href="/categories/Design-Pattern/Singleton/">Singleton</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-02-27T13:23:42.000Z">2019-02-27</time></div>
                    <a href="/2019/02/27/observer-pattern/" class="has-link-black-ter is-size-6">5. 옵저버 패턴</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Design-Pattern/">Design Pattern</a> / <a class="has-link-grey -link" href="/categories/Design-Pattern/Observer/">Observer</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        


    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
        </div>
    
</div>

                    
                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    Crucian Carp
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Aaron Ryu&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>