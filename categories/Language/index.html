<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Category: Language - Crucian Carp</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="naver-site-verification" content="2316a6af47a7b653c7f6af966d7c718fb98027ed">

<link rel="canonical" href="https://aaronryu.github.io/categories/language/">


    <meta name="description" content="Cool heads but warm hearts">
<meta property="og:type" content="website">
<meta property="og:title" content="Crucian Carp">
<meta property="og:url" content="https://aaronryu.github.io/categories/Language/index.html">
<meta property="og:site_name" content="Crucian Carp">
<meta property="og:description" content="Cool heads but warm hearts">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Crucian Carp">
<meta name="twitter:description" content="Cool heads but warm hearts">



<link rel="alternative" href="atom.xml" title="Crucian Carp" type="application/atom+xml">



<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/androidstudio.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-134840627-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134840627-1');
</script>


    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                Crucian Carp
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-9-tablet is-9-desktop is-9-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/categories">Categories</a></li>
            
            <li class="is-active"><a href="#" aria-current="page">Language</a></li>
        </ul>
        </nav>
    </div>
</div>

    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <!-- <time class="level-item has-text-grey" datetime="2019-05-26T18:20:22.000Z">2019-05-27</time> -->
                <div class="level-item has-text-grey">2019-05-27</div>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Language/">Language</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Language/Kotlin/">Kotlin</a>
                </div>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/05/27/coroutine-and-thread/">Coroutine, Thread 와의 차이와 그 특징</a>
            
        </h1>
        <div class="content">
            <p>처음 Kotlin 를 사용하던 중에 <strong>비동기</strong> 처리를 위해 Coroutine 개념을 마주했었습니다. <strong>동기</strong>란 요청을 보낸 후 요청에 대한 <strong>반환값을 얻기 이전까지 대기</strong>하는걸 의미하고, <strong>비동기</strong>는 그 <strong>대기시간동안 다른 일을 수행</strong>하여 효율성을 높히는걸 의미합니다.</p>
<p>동기와 비동기는 ‘대기’가 필요한 작업들이 빈번한 프로그래밍에 등장하는 개념이고 이를 ‘blocking’으로 명명하여 예로는 OS 시간에 배웠던 I/O 나 Network Request/Response 처리가 있습니다. 과거에는 앞서 말한 예를 처리할때에만 비동기를 사용했던것으로 기억하는데요. 현재에는 어떤 작업이든지 잘게 쪼개어 비동기로 하는 것으로 보입니다. 이런 분위기를 이끌어 온것은 사용이 간편해짐을 들 수 있는데 여기서 설명할 Coroutine 개념도 Thread 보다 비동기 사용이 쉽도록 만들어주었기 때문아닐까 생각이 듭니다.</p>
<h1 id="Process-amp-Thread"><a href="#Process-amp-Thread" class="headerlink" title="Process &amp; Thread"></a>Process &amp; Thread</h1><blockquote>
<p><strong>Process</strong>: Program 이 메모리에 적재되어 실행되는 인스턴스<br><strong>Thread</strong>: Process 내 실행되는 여러 흐름의 단위</p>
</blockquote>
<p>먼저 Thread 는 Process 보다 작은 단위의 실행 인스턴스로만 알고 있는데, 메모리 영역도 조금 다릅니다.</p>
<center><img src="/2019/05/27/coroutine-and-thread/process-and-thread.png"></center>

<p><strong>Process</strong> 는 독립된 메모리 영역<strong>(Heap)</strong>을 할당받고 각 <strong>Thread</strong>도 독립된 메모리 영역<strong>(Stack)</strong>을 할당받습니다. Thread 는 본질적으로 Process 내에 속해있기 때문에 Head 메모리 영역은 해당 Process 에 속한 모든 Thread 들이 공유할 수 있습니다. </p>
<p>Program 에 대한 Process 가 생성되면 Heap 영역과 하나의 Thread 와 하나의 Stack 영역을 갖게되고, <strong>Thread 가 추가될때마다 그 수만큼의 Stack 이 추가됩니다.</strong> Thread 가 100 개라면 전체 메모리에 100 개의 Stask 이 생성되는 것입니다.</p>
<h1 id="Concurrency-amp-Parallelism"><a href="#Concurrency-amp-Parallelism" class="headerlink" title="Concurrency &amp; Parallelism"></a>Concurrency &amp; Parallelism</h1><h2 id="Concurrency-동시성"><a href="#Concurrency-동시성" class="headerlink" title="Concurrency 동시성"></a>Concurrency 동시성</h2><blockquote>
<p><strong>Interleaving, 시분할</strong>: 다수의 Task 가 있는데, 각 Task 들을 평등하게 조금씩 나누어 실행하는것</p>
</blockquote>
<center><img src="/2019/05/27/coroutine-and-thread/tasks.png"><img src="/2019/05/27/coroutine-and-thread/concurrency.png"></center>

<p>총 실행시간은 Context Switching 에 대한 비용을 제외하곤 각 Task 수행시간을 합친것과 동일합니다.<br>예를 들어 3 개의 Task 각각이 10분씩 걸린다고 했을때, <strong>총 30분</strong>이 소요되는것입니다.</p>
<h2 id="Parallelism-병렬성"><a href="#Parallelism-병렬성" class="headerlink" title="Parallelism 병렬성"></a>Parallelism 병렬성</h2><blockquote>
<p><strong>Parallelizing, 병렬수행</strong>: 다수의 Task 가 있는데, 각 Task 들이 한번에 수행되는 것</p>
</blockquote>
<center><img src="/2019/05/27/coroutine-and-thread/tasks.png"><img src="/2019/05/27/coroutine-and-thread/parallelism.png"></center>

<p>Task 수 만큼 자원이 필요하며, Context Switching 은 필요없습니다.<br>총 실행시간은 다수의 Tasks 중 가장 소요시간이 긴 Task 만큼 걸립니다.<br>예를 들어 3 개의 Task 각각이 10, 11, 12분씩 걸린다면, <strong>총 12분</strong>이 소요되는것입니다.</p>
<h1 id="Thread-amp-Coroutine"><a href="#Thread-amp-Coroutine" class="headerlink" title="Thread &amp; Coroutine"></a>Thread &amp; Coroutine</h1><p>Thread, Coroutine 모두 Concurrency 동시성 (Interleaving) 를 보장하기 위한 기술입니다. 여러개의 작업을 동시에 수행할 때 Thread 는 각 작업에 해당하는 메모리 영역을 할당하는데, 여러 작업을 동시에 수행해야하기 때문에 OS 레벨에서 각 작업들을 얼만큼씩 분배하여 수행해야지 효율적일지 Preempting Scheduling 을 필요로 합니다. A 작업 조금 B 작업 조금을 통해 최종적으로 A 작업과 B 작업 모두를 이뤄내는 것입니다. Coroutine 은 Lightweight Thread 라고 불립니다. 이 또한 작업을 효율적으로 분배하여 조금씩 수행하여 완수하는 Concurrency 를 목표로하지만 각 작업에 대해 Thread 를 할당하는 것이 아니라 작은 Object 만을 할당해주고 이 Object 들을 자유자재로 스위칭함으로써 Switching 비용을 최대한 줄였습니다.</p>
<h2 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a>Thread</h2><ul>
<li>Task 단위 = <strong>Thread</strong><ul>
<li>다수의 작업 각각에 <strong>Thread</strong> 를 할당합니다.<br>각 Thread 는 위에 설명했듯 자체 Stack 메모리 영역을 가지며 <strong>JVM Stack 영역을 차지</strong>합니다.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Context Switching</strong><ul>
<li><strong>OS Kernel</strong> 에 의한 <strong>Context Switching</strong> 을 통해 Concurrency 를 보장합니다.</li>
<li><strong>Blocking</strong>: 작업 1(Thread) 이 작업 2(Thread) 의 결과가 나오기까지 기다려야한다면<br>작업 1 Thread 는 Blocking 되어 그 시간동안 해당 자원을 사용하지 못합니다.</li>
</ul>
</li>
</ul>
<center><img src="/2019/05/27/coroutine-and-thread/context-switch-between-threads.png">* 쉬운 설명을 위해 CPU 는 Single Core 로 가정합니다.</center>

<p>위 그림에서 작업들은 모두 Thread 단위인것을 알 수 있습니다. Thread A 에서 작업 1을 수행중에 작업 2가 필요할때 이를 비동기로 호출하게 됩니다. 작업 1은 진행중이던 작업을 멈추고(Blocked) 작업 2는 Thread B 에서 수행되며 이때 CPU 가 연산을 위해 바라보는 메모리 영역을 Thread A 에서 Thread B 로 전환하는 Context Switching 이 일어납니다. 작업 2가 완료되었을때 해당 결과값을 작업 1에 반환하게 되고, 동시에 수행할 작업 3과 작업 4는 각각 Thread C 와 Thread D 에 할당됩니다. 싱글 코어 CPU 는 동시 연산이 불가능하므로 이때에도 OS Kernel 의 Preempting Scheduling 에 의해 각 작업 1, 3, 4 각각을 얼만큼 수행하고 멈추고 다음 작업을 수행할지 결정하여 그에 맞게 세 작업을 돌아가며 실행함으로써 Concurrency 를 보장합니다.</p>
<h2 id="Coroutine"><a href="#Coroutine" class="headerlink" title="Coroutine"></a>Coroutine</h2><ul>
<li>Task 단위 = <strong>Object (Coroutine)</strong><ul>
<li>다수의 작업 각각에 <strong>Object</strong> 를 할당합니다.<br>이 Coroutine Object 는 객체를 담는 <strong>JVM Heap 에 적재</strong>됩니다.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Programmer Switching</strong> = No Context Switching<ul>
<li><strong>프로그래머의 코딩</strong>을 통해 <strong>Switching 시점을 마음대로 정함으로</strong>써 Concurrency 를 보장합니다.</li>
<li><strong>Suspend (Non-Blocking)</strong>: 작업 1(Object) 이 작업 2(Object) 의 결과가 나오기까지 기다려야한다면<br>작업 1 Object 는 Suspend 되지만 작업 1 을 수행하던 Thread 는 그대로 유효하기 때문에 작업 2 도 작업 1 과 동일한 Thread 에서 실행될 수 있습니다.</li>
</ul>
</li>
</ul>
<center><img src="/2019/05/27/coroutine-and-thread/no-context-switch-between-coroutines.png">* 쉬운 설명을 위해 CPU 는 Single Core 로 가정합니다.</center>

<p>작업의 단위는 Coroutine Object 이므로 작업 1 수행중에 비동기 작업 2가 발생하더라도 작업 1을 수행하던 같은 Thread 에서 작업 2를 수행할 수 있으며, 하나의 Thread 에서 다수의 Coroutine Object 들을 수행할 수도 있습니다. 위 그림에 따라 <strong>작업 1과 작업 2의 전환에 있어 단일 Thread A 위에서 Coroutine Object 객체들만 교체함으로써 이뤄지기 때문에 OS 레벨의 Context Switching 은 필요없습니다.</strong> 한 Thread 에 다수의 Coroutine 을 수행할 수 있음과 Context Switching 이 필요없기 떄문에 Coroutine 을 <strong>Lightweight Thread</strong> 로도 부릅니다.</p>
<p>다만 위 그림의 Thread A 와 Thread C 의 예처럼 다수의 스레드가 동시에 수행된다면 Concurrency 보장을 위해 두 Threads 간 Context Switching 은 수행되어야합니다. 따라서 Coroutine 을 사용할때에는 No Context Switching 이라는 장점을 최대한 활용하기 위해 다수의 Thread 를 사용하는 것보다 <strong>단일 Thread 에서 여러 Coroutine Object 들을 실행하는 것이 좋습니다.</strong></p>
<blockquote>
<p>결국 <strong>Coroutine</strong> 으로 <strong>‘작업’의 단위를 Thread 가 아닌 Object 로 축소</strong>하면서<br><strong>작업의 전환 및 다수 작업 수행에 굳이 다수의 Thread 를 필요로 하지 않게됩니다.</strong></p>
</blockquote>
<blockquote>
<p><strong>Coroutine 은 Thread 의 대안이 아니라 기존의 Thread 를 더 잘게 쪼개어 사용하기위한 개념이다.</strong><br>하나의 Thread 가 다수의 코루틴을 수행할 수 있기 때문에 더 이상 작업의 수만큼 Thread 를 양산하며 메모리를 소비할 필요가 없다.</p>
<ul>
<li>각 스레드마다 갖는 Stack 메모리 영역을 갖지 않기때문에, 스레드 사용시 스레드 개수만큼 Stack 메모리에 따른 메모리 사용공간이 증가하지 않아도 된다.</li>
<li>같은 프로세스내에 ‘공유 데이터 구조’(Heap)에 대한 locking 걱정도 없다.</li>
</ul>
</blockquote>
<center><img src="/2019/05/27/coroutine-and-thread/concurrency-progress-bar-thread-and-coroutine.png"></center>

<p>Thread 와 Coroutine 의 예로 보여드린 그림들을 위와 같이 축약해보았습니다. Coroutine 을 사용한다면 Task 가 바뀌어도 Thread 는 그대로 유지되는 것을 볼 수 있습니다. 그에 따라 자연스레 Context Switching 횟수도 확연히 줄어들은것을 볼 수 있습니다. Coroutine 에서 설명드린바와 같이 Task 3 과 Task 4 도 Thread C 가 아닌 Thread A 에서 수행되도록 한다면 하나의 Context Switching 도 없게 설계할 수 있습니다. 즉, Coroutine 이 수행될 Thread 도 프로그래머가 Shared Thread Pool 을 지정하여 결정한다는 의미이며, Coroutine 을 활용한 효율성은 오로지 프로그래머의 몫이라는 의미입니다.</p>
<h3 id="각-언어의-Coroutine"><a href="#각-언어의-Coroutine" class="headerlink" title="각 언어의 Coroutine"></a>각 언어의 Coroutine</h3><ul>
<li><strong>Future</strong> - <strong>Java</strong> 비동기 지원</li>
<li><strong>Promise, Generators</strong> - <strong>JavaScript</strong> 비동기 지원<ul>
<li>제너레이터는 yield 구문에 의해서만 실행을 멈춥니다. 즉 잘게잘게 쪼개어 (Iterator) 얼려놓았다 (Freeze/Yield)</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Deferred</strong> - <strong>Kotlin</strong> 비동기 지원<ul>
<li>Non Blocking Cancellable ‘Future’(Java) = <strong>Coroutine Object</strong></li>
<li>Coroutine Builder 인 <strong>async { } 를 통해 정의</strong>된다.</li>
<li>Coroutine 에서 설명했듯이 <strong>Deferred</strong> 객체를 수행할땐 <strong>Thread 를 Blocking 하지 않고</strong><br>해당 구문이 끝날때까지 awaits 하였다 끝나면 계속 이어간다.</li>
</ul>
</li>
</ul>
<h3 id="Stackful-amp-Stackless"><a href="#Stackful-amp-Stackless" class="headerlink" title="Stackful &amp; Stackless"></a>Stackful &amp; Stackless</h3><p>Coroutine 을 조금 더 깊게 알아보았다면 <strong>Stackful</strong> 과 <strong>Stackless</strong> 이 두 종류로 나뉘는것을 볼 수 있다. 본 글의 맨 처음에서 언급했듯이 <strong>Thread 는 자체 메모리 영역인 Stack 을 갖는다.</strong> Stack 은 함수 실행 순서를 적재하고 그를 관리할 수 있게 해준다. <strong>Lightweight Thread 인 Coroutine 의 Stackful &amp; Stackless 는 Coroutine 이 자체 Stack 을 가지는가? 갖지 않는가?</strong>를 의미한다. <strong>Stackful Coroutine 은 Coroutine 내부에서 다른 함수를 호출하였을때 해당 함수에서 현재 Coroutine 을 suspend 할 수 있음 (정확히는 yield 호출을 할 수 있음) 을 의미한다.</strong> <strong>Stackless Coroutine 은 함수에 대한 Stack 을 따로 갖지 않기 때문에 호출하려는 함수를 다시 한번 Coroutine 객체로 묶어서 ‘Coroutine 중첩 호출’을 해야지 이전 Coroutine 과 내부 Coroutine 을 suspend 를 통해 연결할 수 있다.</strong></p>
<ul>
<li>Coroutine - Stackful Functions<ul>
<li>Coroutine 내부 함수에서 Yield(Suspending the Coroutine) 호출 가능</li>
</ul>
</li>
</ul>
<ul>
<li>Generators - Stackless Functions<ul>
<li>Coroutine 내부 함수에서 Yield(Suspending the Coroutine) 호출 불가능</li>
<li>예를 들면 Coroutine 내부에 있는 Arrays.forEach() 함수 안 구문에선 forEach() 함수를 코루틴 적용이 가능하게 따로 정의하지 않는한 <strong>Yield 호출이 불가능하다.</strong></li>
</ul>
</li>
</ul>
<h1 id="Kotlin-Coroutine"><a href="#Kotlin-Coroutine" class="headerlink" title="Kotlin Coroutine"></a>Kotlin Coroutine</h1><h2 id="buildSequence"><a href="#buildSequence" class="headerlink" title="buildSequence { }"></a>buildSequence { }</h2><ul>
<li>순차적 Yield/Resuming<ul>
<li>Yield 를 통해 멈춥니다.</li>
<li>Resume 을 통해 순차수행합니다.</li>
</ul>
</li>
</ul>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">g</span><span class="hljs-params">()</span></span> = buildSequence &#123;</span><br><span class="line">  yield(<span class="hljs-number">1</span>); yield(<span class="hljs-number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">for</span> (v <span class="hljs-keyword">in</span> g()) &#123;</span><br><span class="line">  println(v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="runBlocking"><a href="#runBlocking" class="headerlink" title="runBlocking { }"></a>runBlocking { }</h2><ul>
<li><strong>Main Thread</strong> 를 <strong>Blocking</strong> 한 채 <strong>{ } 구문 내 작업을 새 Thread</strong> 에 할당하여 수행합니다.</li>
<li>runBlocking { } 내부에 다수의 async { } 들을 정의하였다면 해당 모든 async 들이 다 수행 완료, 반환되었을때 Main Thread 에 대한 Blocking 을 풉니다.</li>
</ul>
<h2 id="launch"><a href="#launch" class="headerlink" title="launch { }"></a>launch { }</h2><ul>
<li><strong>Main Thread</strong> 를 <strong>Unblocking</strong> 한 채 { } 구문 내 작업을 수행합니다.</li>
</ul>
<h2 id="async"><a href="#async" class="headerlink" title="async { }"></a>async { }</h2><ul>
<li><strong>Main Thread</strong> 를 <strong>Unblocking</strong> 한 채 { } 구문 내 작업을 하고 <strong>반환값이 존재</strong>합니다.<ul>
<li>async { } 는 launch { } 와 같은 동작을 하지만 반환값이 존재하는 <strong>Deferred</strong> 입니다.<br>즉, launch 는 끝까지 실행하면 끝나는거고 async 는 끝까지 실행하고 반환값을 가진 객체를 반환한다.</li>
<li>Deferred<t>, which has an await() function that returns the result of the coroutine.</t></li>
</ul>
</li>
</ul>
<hr>
<p>출처: </p>
<ol>
<li><a href="https://stackoverflow.com/questions/1934715/difference-between-a-coroutine-and-a-thread" target="_blank" rel="noopener">https://stackoverflow.com/questions/1934715/difference-between-a-coroutine-and-a-thread</a></li>
<li><a href="https://stackoverflow.com/questions/43021816/difference-between-thread-and-coroutine-in-kotlin/43232925" target="_blank" rel="noopener">https://stackoverflow.com/questions/43021816/difference-between-thread-and-coroutine-in-kotlin/43232925</a></li>
<li><a href="https://kotlinlang.org/docs/tutorials/coroutines/coroutines-basic-jvm.html" target="_blank" rel="noopener">https://kotlinlang.org/docs/tutorials/coroutines/coroutines-basic-jvm.html</a></li>
<li><a href="https://medium.com/@jooyunghan/stackful-stackless-%EC%BD%94%EB%A3%A8%ED%8B%B4-4da83b8dd03e" target="_blank" rel="noopener">https://medium.com/@jooyunghan/stackful-stackless-%EC%BD%94%EB%A3%A8%ED%8B%B4-4da83b8dd03e</a></li>
</ol>

        </div>
        
        
        
    </div>
</div>










    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <!-- <time class="level-item has-text-grey" datetime="2019-03-24T12:42:23.000Z">2019-03-24</time> -->
                <div class="level-item has-text-grey">2019-03-24</div>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Language/">Language</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Language/Functional-Programming/">Functional Programming</a>
                </div>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/03/24/only-one-page-for-functional-programming/">한 장으로 보는 함수형 프로그래밍 - 클로저, 커링, Functor, 모나드</a>
            
        </h1>
        <div class="content">
            <h1 id="‘함수’형-프로그래밍"><a href="#‘함수’형-프로그래밍" class="headerlink" title="‘함수’형 프로그래밍"></a>‘함수’형 프로그래밍</h1><p>‘함수’형 프로그래밍은 한 마디로 요약할 수 있습니다.</p>
<blockquote>
<p>‘함수’를 <strong>1. 변수</strong>에 <strong>2. 파라미터</strong>에 <strong>3. 반환값</strong>에 사용할 수 있으며, <strong>4. 순수 함수</strong> 특성을 갖습니다.</p>
</blockquote>
<ol start="0">
<li>‘함수’는 <strong>일급함수(first-class function)</strong> 입니다.<ol>
<li>‘함수’를 <strong>변수</strong>에 대입할 수 있습니다.</li>
<li>‘함수’를 <strong>파라미터</strong>로 넘길 수 있습니다.</li>
<li>‘함수’를 <strong>반환</strong>할 수 있습니다</li>
</ol>
</li>
</ol>
<ol start="4">
<li>‘함수’는 <strong>순수 함수</strong> 특성을 갖습니다.<ul>
<li><strong>참조 투명성 (No Side-Effects)</strong>: 외부 상태나 변수, 환경의 영향을 받지 않고,<br>같은 파라미터로 함수를 호출하면 매 항상 같은 결과를 반환합니다.</li>
</ul>
</li>
</ol>
<h2 id="함수-포인터"><a href="#함수-포인터" class="headerlink" title="함수 포인터"></a>함수 포인터</h2><p>함수는 값이 아닌 참조인 만큼 <strong>함수를 일급함수로 사용하기 위해서는 함수 포인터</strong>를 이용해야 합니다.</p>
<ol>
<li>함수 포인터를 통해 함수를 <strong>변수</strong>로 사용할 수 있습니다.</li>
<li>함수를 <strong>파라미터</strong>로 넘기고 싶다면 함수 포인터를 전달하면 가능합니다.</li>
<li>함수를 <strong>반환</strong>하고 싶으면 반환하려는 함수에 대한 포인터를 반환하면 가능합니다.</li>
</ol>
<figure class="highlight c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">qsort</span> <span class="hljs-params">(<span class="hljs-keyword">void</span>* base, <span class="hljs-keyword">size_t</span> n, <span class="hljs-keyword">size_t</span> size,  <span class="hljs-keyword">int</span> (*compare)(<span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span>*,<span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span>*))</span></span>;</span><br></pre></td></tr></table></figure>
<p>위 C 언어 예를 보면 퀵소트 알고리즘의 마지막 <strong>파라미터</strong>로 <strong>compare 함수 포인터</strong>를 넘겨주는걸 볼 수 있습니다. 다만 C 언어에서의 함수는 <strong>런타임에 정의된 함수</strong>가 아니라 <strong>미리 컴파일된 함수</strong>는 이유로 일급함수(first-class function)가 아닌 이급함수(second-class function)로 부르자는 의견<a href="https://en.wikipedia.org/wiki/First-class_citizen#Functions" target="_blank" rel="noopener">^3</a>도 있는듯 합니다.</p>
<hr>
<h1 id="람다-익명함수"><a href="#람다-익명함수" class="headerlink" title="람다 (익명함수)"></a>람다 (익명함수)</h1><p><strong>람다</strong>는 컴퓨터과학 및 수리논리학에 사용되는 개념으로 현 프로그래밍 함수의 원형에 해당하는 개념입니다.</p>
<blockquote>
<p><strong>입력값</strong>을 받고 함수 외부에 정의된 <strong>자유변수</strong>를 활용하여 결과를 반환하는 함수 <strong>추상</strong>표현법 입니다.</p>
</blockquote>
<p>함수를 정의만 할 뿐 수행하지 않는다는 점이 프로그래밍 내에서 함수를 정의를 먼저하는 것<a href="https://ko.wikipedia.org/wiki/%EB%9E%8C%EB%8B%A4_%EB%8C%80%EC%88%98#%ED%95%B5%EC%8B%AC_%EA%B0%9C%EB%85%90" target="_blank" rel="noopener">^8</a>과 같습니다. 수리논리 개념이자 함수의 원형인만큼 <strong>람다는 함수명이 존재하지 않습니다.</strong> 이런 이유로 <strong>람다</strong>를 프로그래밍에서는 <strong>익명함수</strong>로 부르기도 합니다. 개념이라는 것은 알겠는데 그럼 람다는 언제 왜 사용되는것일까요?</p>
<p>프로그래밍에서는 <strong>값</strong>을 사용하는 두 가지 방법이 있습니다.</p>
<ul>
<li><p><strong>재사용성</strong>을 위해 값을 정의 후 변수에 할당하여 <strong>변수로 사용</strong>하는 방법</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> defined: <span class="hljs-type">Int</span> = <span class="hljs-number">10</span></span><br><span class="line"><span class="hljs-built_in">print</span>(defined)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>일회성</strong> 사용을 위해 값을 바로 <strong>inline 으로 사용</strong>하는 방법</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">print</span>(<span class="hljs-number">10</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>함수</strong>를 사용하는 방법도 값과 같이 두 가지 방법이 있습니다.</p>
<ul>
<li><p><strong>재사용성</strong>을 위해 함수를 정의 후 <strong>참조로 사용</strong>하는 방법</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">defined</span><span class="hljs-params">()</span></span> -&gt; (<span class="hljs-type">Int</span>) &#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-number">10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">print</span>(defined)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>일회성</strong> 사용을 위해 함수를 바로 <strong>inline 으로 사용</strong>하는 방법</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">print</span>(&#123; <span class="hljs-keyword">return</span> <span class="hljs-number">10</span> &#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>람다</strong>는 변수, 파라미터, 반환값에 함수 포인터를 넘겨준다는 것은 일반 함수 사용과 동일하지만, <strong>함수 정의 시점</strong>이 다르기 때문에 </p>
<ul>
<li>함수 이름이 필요없으며</li>
<li>함수의 유효범위가 일회성이라는 장점이 있습니다. <ul>
<li><strong>일반 함수</strong>는 정의 시 정의 구역 내 <strong>전역으로 존재</strong>합니다.<br>(어려운 말로 <strong>전역 네임스페이스에 소속되는 정적인 구현체</strong><a href="http://seorenn.blogspot.com/2014/06/swift-closures.html" target="_blank" rel="noopener">^1</a>)</li>
<li><strong>람다</strong>는 정의 시 정의 블럭 내 <strong>일회성으로 존재</strong>합니다. </li>
</ul>
</li>
</ul>
<p><strong>람다</strong>를 통해 함수를 <strong>일급함수</strong>로 사용 시 미리 정의할 필요없이 <strong>inline 으로 함수를 정의하여 바로 사용</strong>이 가능해졌습니다.</p>
<h2 id="함수객체"><a href="#함수객체" class="headerlink" title="함수객체"></a>함수객체</h2><p>객체지향 프로그래밍에서는 함수가 단일 함수로는 존재할 수 없으며 꼭 클래스안에 속해야하는 한계가 있습니다. 함수를 람다로 사용하고싶다면 <strong>함수객체</strong>를 만들어 객체레벨로 사용해야합니다. 객체지향 프로그래밍에서 <strong>람다</strong>는 겉으로 보기에는 단일 함수로 존재하는것 같지만, 실제론 이름없는 객체가 단일 함수를 감싸고 있는 <strong>‘함수객체’의  Syntactic Sugar</strong> 라고 보시면됩니다.</p>
<hr>
<h1 id="클로저"><a href="#클로저" class="headerlink" title="클로저"></a>클로저</h1><p><strong>람다</strong>와 <strong>클로저</strong> 이 둘은 같아보이지만 엄연히 다른 개념<a href="https://stackoverflow.com/a/220728/3231395" target="_blank" rel="noopener">^4</a>입니다. 각 정의를 살펴보면</p>
<blockquote>
<p><strong>람다</strong>는 <strong>익명함수</strong>를 뜻합니다.<br>함수를 변수, 파라미터, 반환값에 <strong>일회성</strong>으로 바로 사용하고싶을때 쓰입니다.</p>
</blockquote>
<blockquote>
<p><strong>클로저</strong>는 <strong>함수가 정의될 때의 환경(상태)</strong>을 갖는 <strong>함수</strong>를 뜻합니다.<a href="https://en.wikipedia.org/wiki/Closure_(computer_programming)#cite_note-2" target="_blank" rel="noopener">^5</a><br>여기서 <strong>환경</strong>은 <strong>클로저가 정의되는 범위(Scope)에 있는 지역변수</strong>을 의미합니다.</p>
</blockquote>
<p>일반적으로 클로저는 함수 A 내부에서 함수(클로저) C 를 정의하는 방식으로 많이 사용합니다. 함수 A 내에 <strong>클로저</strong> C 가 정의된다면 C 는 <strong>A 의 변수</strong>들을 파라미터로 넘기지 않았음에도 자연적으로 <strong>참조</strong>하여 사용할 수 있습니다. 이것이 <strong>환경(상태)</strong>입니다.</p>
<ul>
<li><strong>함수 A 의 변수</strong> 와 <strong>클로저 C</strong> 의 관계를 <strong>클래스 A 내 필드</strong>와 <strong>메서드 C</strong>의 관계로 생각하시면 이해가 쉽습니다. </li>
</ul>
<p><strong>클로저를 함수를 객체처럼 사용하기 위한 방법</strong>으로 본다면, 클로저를 사용하는 이유는 객체를 사용하는 이유와 비슷합니다.</p>
<ul>
<li>클로저 C 가 참조하는 외부 변수를 상태처럼 계속 갖기 때문에 반복 호출하더라도 해당 상태를 계속 활용할 수 있습니다.</li>
<li>외부 변수는 함수 A 범위 내에만 정의되었기 때문에 외부 접근이 불가능합니다.</li>
</ul>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">query</span><span class="hljs-params">(dbName: String)</span></span> -&gt; (<span class="hljs-type">String</span>) -&gt; (<span class="hljs-type">Person</span>) &#123;</span><br><span class="line">  <span class="hljs-keyword">let</span> instance: <span class="hljs-type">DBInstance</span> = <span class="hljs-type">DBConfig</span>.getInstance(dbName)</span><br><span class="line">  <span class="hljs-comment">// * 클로저 내부 &#123; &#125; 에서 클로저가 정의된 함수 내 존재하는 instance 변수를 사용하였습니다.</span></span><br><span class="line">  <span class="hljs-keyword">return</span> &#123; (tableName: <span class="hljs-type">String</span>) -&gt; (<span class="hljs-type">Person</span>) <span class="hljs-keyword">in</span> </span><br><span class="line">    <span class="hljs-keyword">return</span> instance.getTable(tableName).getFirst()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Swift-클로저"><a href="#Swift-클로저" class="headerlink" title="Swift 클로저"></a>Swift 클로저</h2><p>위에서 살펴보았듯 클로저의 정의가 익명함수는 아니지만, <strong>Swift 에서는 클로저가 이름 없이 사용되기 때문에 익명함수이기도 합니다.</strong> Swift 의 클로저는 ‘파라미터’와 ‘반환에 해당하는 구문’을 in 으로 구별합니다.</p>
<center><img src="/2019/03/24/only-one-page-for-functional-programming/closure.svg"></center>

<p>Swift 의 클로저는 아래와 같이 원하는 만큼 축약할 수 있습니다. </p>
<ol>
<li><p><strong>기본형</strong>: 파라미터 타입, 반환 타입을 명시하고 in 이후 함수 구문을 작성합니다.</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; (parameters) -&gt; (return_type) <span class="hljs-keyword">in</span> <span class="hljs-keyword">return</span> <span class="hljs-comment">/* statements using parameters */</span> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>축약형</strong>: 반환 타입을 암시적으로 결정합니다</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; parameters <span class="hljs-keyword">in</span> <span class="hljs-keyword">return</span> <span class="hljs-comment">/* statesments using parameters */</span> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>축약성애자</strong>: 반환 타입뿐만 아니라 반환 식의 return 도 없앴습니다.</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; parameters <span class="hljs-keyword">in</span> <span class="hljs-comment">/* statesments using parameters */</span> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>변태</strong>: 파라미터 타입을 암시적으로 결정합니다. 사용은 파라미터 순으로 <strong>$0</strong>, <strong>$1</strong> 로 사용합니다.</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="hljs-comment">/* statesments using parameters with $0, $1 ... */</span> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Trailing Closure</strong>: 클로저가 마지막 파라미터로 사용된다면 파라미터에 넣지않고 함수 뒤 클로저 { } 로 바로 명시합니다.</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> sorted = <span class="hljs-built_in">sort</span>(names, &#123; $<span class="hljs-number">0</span> &lt; $<span class="hljs-number">1</span> &#125;)</span><br><span class="line"><span class="hljs-keyword">var</span> sorted = <span class="hljs-built_in">sort</span>(names) &#123; $<span class="hljs-number">0</span> &lt; $<span class="hljs-number">1</span> &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h1 id="고차함수"><a href="#고차함수" class="headerlink" title="고차함수"></a>고차함수</h1><p><strong>‘고차함수’</strong>는 일급함수 세 조건 중 두번째 혹은 세번째에 해당하는 함수를 뜻합니다.</p>
<ol>
<li><del>‘함수’를 <strong>변수</strong>에 대입할 수 있습니다.</del></li>
<li>‘함수’를 <strong>파라미터</strong>로 받거나</li>
<li>‘함수’를 <strong>반환</strong>하는 함수</li>
</ol>
<blockquote>
<p><strong>‘고차함수’</strong>는 <strong>‘함수’를 파라미터로 혹은 반환값으로 사용하는 것</strong>을 의미합니다. </p>
<ul>
<li>함수를 사용하는 함수다보니 <strong>메타적 ‘함수’</strong>라는 의미에서 한 차원 높은 함수, 고차함수라고 명명합니다.</li>
</ul>
</blockquote>
<hr>
<h1 id="커링"><a href="#커링" class="headerlink" title="커링"></a>커링</h1><p><strong>‘커링’</strong>은 일급함수 세 조건 중 세번째에 해당하는 함수를 뜻합니다.</p>
<ol>
<li><del>‘함수’를 <strong>변수</strong>에 대입할 수 있습니다.</del></li>
<li><del>‘함수’를 <strong>파라미터</strong>로 넘길 수 있습니다.</del></li>
<li>‘함수’를 <strong>반환</strong>하는 함수</li>
</ol>
<blockquote>
<p><strong>커링(Curring)</strong>은 <strong>‘함수’가 ‘함수’를 반환하는 것</strong>을 의미합니다. </p>
<ul>
<li>일반적으로 <strong>Swift</strong> 에서 <strong>커링</strong>은 <strong>함수가 ‘클로저’를 반환</strong>하는 방식으로 많이 사용됩니다.</li>
</ul>
</blockquote>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">curringExample</span>: <span class="hljs-params">(a: Int, b: Int, <span class="hljs-built_in">c</span>: Int)</span></span> -&gt; (<span class="hljs-type">Int</span>, <span class="hljs-type">Int</span>) -&gt; (<span class="hljs-type">Bool</span>) &#123; ... &#125;</span><br></pre></td></tr></table></figure>
<p>위 <code>curringExample</code> 예를 보면 a, b, c 파라미터를 받아 <code>(Int, Int) 두 파라미터를 받아 -&gt; (Bool) 을 반환하는 함수</code>를 <strong>반환</strong>합니다</p>
<p>Swift 에서 <strong>‘클래스의 객체’</strong>가 <strong>‘클래스 객체의 함수’</strong>를 호출하는 방법도 <strong>커링</strong>을 사용합니다.<a href="https://academy.realm.io/kr/posts/currying-on-the-swift-functions/" target="_blank" rel="noopener">^2</a></p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> someInstance = <span class="hljs-type">SomeClass</span>()</span><br><span class="line">someInstance.someFunction(params: <span class="hljs-comment">/* parameters */</span>)</span><br></pre></td></tr></table></figure>
<p>위 <strong>클래스 객체의 함수</strong>는 실제로 아래와 같이 <strong>클래스 함수에 객체를 넘겨 수행합니다.</strong></p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-type">SomeClass</span>.someFunction(<span class="hljs-keyword">self</span>: someInstance)(params: <span class="hljs-comment">/* parameters */</span>)</span><br></pre></td></tr></table></figure>
<p>사담으로 Kotlin 의 확장함수도 수신객체타입(클래스)에 대한 함수에 수신객체를 파라미터로 넘기는 형태로 사용됩니다.</p>
<hr>
<h1 id="Functor"><a href="#Functor" class="headerlink" title="Functor"></a>Functor</h1><p>Functor 는 <strong>데이터 구조</strong>입니다. Functor 개념에 앞서 함수에 대해서 짧게 살펴보겠습니다.</p>
<h2 id="함수-Mapping"><a href="#함수-Mapping" class="headerlink" title="함수 = Mapping"></a>함수 = Mapping</h2><p>함수는 Input A 를 넣으면 Output B 라는 결과가 나오는 것입니다.<br>달리보자면 함수는 Input A -&gt; Output B, 이 둘에 대한 <strong>매핑</strong>입니다.</p>
<h2 id="데이터-구조-Mapping"><a href="#데이터-구조-Mapping" class="headerlink" title="데이터 구조 Mapping"></a>데이터 구조 Mapping</h2><p>어떤 데이터 구조 전체에 대해 매핑을 적용한다면, 데이터 구조 내 원소 각각에 대해 매핑을 적용해야합니다.<br>예를 들어 데이터 구조가 <strong>리스트</strong>라면 0, 1 .. 이터레이팅을 통해 </p>
<ul>
<li><strong>Pull</strong>: 각 원소를 꺼내어 </li>
<li><strong>Mapping</strong>: 매핑을 적용한 후 </li>
<li><strong>Push</strong>: 결과 원소를 반환하려는 데이터 구조에 넣습니다.</li>
</ul>
<center><img src="/2019/03/24/only-one-page-for-functional-programming/functor-example.svg"></center>

<p><strong>각 원소에 대한 매핑 함수를 적용할 수 있음</strong>을 Mappable 로 정의한다면, 예로 살펴본 리스트는 <strong>Mappable 데이터 구조</strong>라고 정의할 수 있습니다. 위 그림 예는 Int 데이터 구조에서 String 데이터 구조로 각 원소에 대해 stringify 한 Functor 의 예입니다.</p>
<ul>
<li><strong>Functor</strong> 정의</li>
</ul>
<blockquote>
<p><strong>Functor</strong> 는 <strong>Mappable (Mapping 함수를 갖는) 데이터 구조</strong><a href="https://medium.com/@sjsyrek/five-minutes-to-functor-83ef9075978b" target="_blank" rel="noopener">^9</a>입니다.<br>각 원소에 대한 매핑 함수를 적용할 수 있는 데이터 구조라면 Functor 로 부를 수 있습니다.</p>
</blockquote>
<center><img src="/2019/03/24/only-one-page-for-functional-programming/functor-definition.svg"></center>

<ol>
<li><strong>‘단위 원소’들로 구성된 데이터 구조</strong></li>
<li><strong>각 ‘단위 원소’에서 ‘단위 윈소’로의 Mapping 함수</strong></li>
</ol>
<p>어떤 <strong>1. 데이터 구조</strong>든 원하는 연산을 적용하고싶다면 데이터 구조안의 <strong>단위 원소</strong>가 어떤 타입(T)이고, <strong>2. 단위 원소(T)에 대한 Mapping</strong>만 정의하면 됩니다. 1.을 클래스의 프로퍼티, 2.를 클래스의 메서드로 본다면 <strong>Functor 를 Function Object, 함수객체로 부르기도 합니다.</strong><a href="https://en.wikipedia.org/wiki/Function_object" target="_blank" rel="noopener">^10</a></p>
<blockquote>
<p><strong>Functor</strong> 는 <strong>범주론(Category Theory)</strong>에서 <strong>카테고리에서 동일 카테고리로 사상</strong>되는 개념에서 유래했습니다. <strong>데이터 구조에서 동일 데이터 구조로 각 단위 원소들에 대해 Mapping</strong>하는것과 개념적으로 동일한 것을 알 수 있습니다. 이처럼 데이터 구조(카테고리)는 바뀌지 않은 채 값만 Mapping 되는 것을 범주론에서는 <strong>natural transformation<a href="https://en.wikipedia.org/wiki/Natural_transformation" target="_blank" rel="noopener">^6</a></strong> 라고 정의합니다.</p>
</blockquote>
<h2 id="Haskell’s-Functor"><a href="#Haskell’s-Functor" class="headerlink" title="Haskell’s Functor"></a>Haskell’s Functor</h2><p>Functor 를 찾다보면 하스켈의 Functor 개념을 먼저 접하실텐데 하스켈의 Functor 는 typeclass 로 아래와 같이 정의하며, 데이터 구조 타입을 명시해서 원하는대로 인스턴스화 하여 사용합니다. Swift-like 문법으로 표현해보면 아래로 볼 수 있습니다.</p>
<ul>
<li><strong>Functor (typeclass)</strong><ul>
<li>Operation(<strong>T</strong>) -&gt; (<strong>R</strong>) </li>
<li><strong>S</strong> (Any Data Structure)</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Functor 구현 (instantiation)</strong><ul>
<li>Operation(<strong>Int</strong>) -&gt; (<strong>String</strong>) { +1 and Stringfy }</li>
<li><strong>List</strong></li>
</ul>
</li>
</ul>
<p>하스켈에서 Functor 는 <strong>데이터 구조 타입(S)</strong>과 <strong>원소(T)에서 원소(R)로의 Mapping 추상 함수</strong>를 가진 <strong>제네릭(S, T, R) 추상 클래스</strong>로 볼 수 있습니다. 하스켈에서 fmap() 이나 map() 함수를 정의할때 Mapping 추상 함수를 정의하고 변환하고자하는 데이터 구조를 주입하면 내부 값만 바뀐 동일한 데이터 구조가 반환됩니다.</p>
<p>Java 유저라면 Stream 의 map() 함수를 떠올리시면 이해가 쉽습니다. </p>
<ul>
<li>Stream 이 Mapping 함수를 가질 수 있는, Mappable 데이터 구조에 해당하므로 Functor 라고 부를 수 있고, </li>
<li>그 Mapping 함수는 Stream.map() 에 람다(익명함수) 형태로 정의하여 파라미터로 넘겨주면 됩니다. </li>
</ul>
<p>Java 의 Stream 은 정확히는 모나드입니다. 이유는 Mapping 함수가 </p>
<ul>
<li><code>Operation(T) -&gt; (R)</code>: <strong>원소(T)에서 원소(T)</strong>로 <strong>‘매핑’</strong>하는 것이 아니라</li>
<li><code>Operation(T) -&gt; (S)</code>: <strong>원소(T)에서</strong> 아예 <strong>새 Functor(S)</strong>로 <strong>‘반환’</strong>한다는 것입니다. </li>
</ul>
<p><strong>Functor</strong> 에서는 연산 전 데이터 구조에서 단위 원소를 꺼내 <strong>‘매핑’</strong>을 적용 후 <strong>결과 원소</strong>를 데이터 구조에 넣었습니다. 반면 <strong>모나드</strong>에서는 연산 전 데이터 구조에서 단위 원소를 꺼내 <strong>‘매핑’</strong>을 적용 후 해당 원소를 <strong>데이터 구조에 넣어</strong>서 <strong>결과 데이터 구조</strong>를 <strong>‘반환’</strong>합니다. 함수 자체가 데이터 구조를 반환하기 때문에 매핑 함수 결과에 <strong>Stream.map().map().map()…</strong> 과 같이  계속해서 Chaining 으로 연결할 수 있습니다. </p>
<p><strong>왜</strong> <strong>‘원소 - 원소 매핑’</strong>이 아닌 <strong>‘원소 - 데이터 구조 매핑’</strong>을 하는지 아래 <strong>모나드</strong>에서 살펴보겠습니다.</p>
<hr>
<h1 id="Monad"><a href="#Monad" class="headerlink" title="Monad"></a>Monad</h1><p>모나드가 무엇인지 한 마디로 정리하기에 앞서, 왜 모나드가 필요한지에 대해 알아보겠습니다. 프로그래밍 언어의 ‘프로그래밍 함수’와 학문에서의 ‘함수’의 차이점이 무엇인지 아시는지요? </p>
<ul>
<li><strong>함수</strong><ul>
<li>함수 실행 시 내부에 어떤 상황이 발생하더라도 최종적으로 <strong>값을 반환하는걸 보장</strong>합니다. </li>
</ul>
</li>
</ul>
<ul>
<li><strong>프로그래밍 함수</strong><ul>
<li>함수 실행 시 내부에 어떤 <strong>처리할 수 없는</strong> 상황이 발생하면 <strong>값을 반환하지 못한채 중간에 Exception</strong>을 발생시킵니다.</li>
</ul>
</li>
</ul>
<p>고등, 대학 수학에서 그 어떠한 함수도 f(x) 중간에 실행하다가 입력해준 값이 잘못되어있으면 중간에 Exception을 내지(…) 않았습니다. 하지만 프로그래밍 함수는 작동 중 상태가 잘못되었을 경우 Exception 을 발생시킵니다. </p>
<blockquote>
<p><strong>Exception 을 발생시키는 것</strong>을 <strong>순수함수</strong> 관점에서는 <strong>Side-Effect</strong> 로 정의하기 때문에 <strong>Exception 이 발생하는 함수</strong>를 <strong>‘비순수 함수’</strong>로 정의합니다.<a href="https://github.com/funfunStudy/study/wiki/%EC%88%9C%EC%88%98%ED%95%A8%EC%88%98-(Pure-Function)" target="_blank" rel="noopener">^7</a> </p>
</blockquote>
<p>만약 ‘프로그래밍 함수’에서 Exception 발생시 <strong>중간에 멈추는것</strong>이 아니라 <strong>해당 ‘상태’가 발생했음을 ‘상태’값으로써 결과에 함께 반환</strong>한다면 Side-Effect 는 없어지게 됩니다. 프로그래밍 함수의 <strong>순수함수화</strong>인 셈입니다. 이렇게 <strong>‘상태’값</strong>과 함수 본연의 <strong>‘결과’값</strong>을 함께 반환하기 위해서는 이 둘을 묶는 데이터 구조가 필요할 것 같습니다. </p>
<blockquote>
<p>Functor 의 <strong>Mapping 함수를 순수함수로 만들기위해</strong> 함수의 결과에 <strong>Exception 이 발생할 수 있는 ‘상태’</strong> 및 <strong>‘결과’</strong>를 <strong>모두 포함하는 데이터 구조를 반환</strong>해보았습니다.</p>
</blockquote>
<center><img src="/2019/03/24/only-one-page-for-functional-programming/functor-return-functor.svg"></center>

<p>Functor 의 Mapping 함수가 데이터 구조를 반환하도록 만들었지만 <strong>반환되는 데이터 구조</strong>가 <strong>한번 더 Functor 의 데이터 구조</strong>로 감싸져서 반환되는 문제가 발생했습니다.</p>
<ul>
<li><strong>Exception ‘상태’를 갖는 데이터 구조</strong>가 </li>
<li><strong>Mapping 함수를 수행한 Functor 의 데이터 구조</strong>에 <strong>한번 더 감싸진채로 반환</strong>되었습니다.</li>
</ul>
<p>Functor 는 자신의 데이터 구조의 내부 원소에서 그에 대한 연산을 수행하고 결과 원소를 데이터 구조에 Mapping 하여 반환하기 때문입니다.</p>
<center><img src="/2019/03/24/only-one-page-for-functional-programming/monad-return-functor.svg"></center>

<p>불필요하게 두 번 감싸지 않고 Exception 상태만을 포함한 데이터 구조를 반환하기 위하여 Mapping 함수의 결과를 그대로 반환하고, Mapping 함수 수행 전에 갖고있는 데이터 구조에서 값을 추출하는 Unwrap 함수를 명시합니다. 이를 flatMap 함수라고 부르며 이 <strong>flatMap 으로 얻어진 ‘데이터 구조의 내부 원소’</strong>에 대한 <strong>Mapping 결과인 ‘데이터 구조’를 바로 반환</strong>하도록 하는것이 <strong>모나드</strong> 패턴입니다.</p>
<ul>
<li><strong>Monad</strong> 정의</li>
</ul>
<blockquote>
<p><strong>Monad</strong>는 <strong>Unwrap(flatMap) 함수</strong>를 포함하는 <strong>Mappable 데이터 구조</strong>입니다.<br><strong>Monad</strong>의 <strong>Mapping 함수</strong>는 <strong>‘결과’와 ‘상태’ 모두를 갖는 데이터 구조를 반환</strong>합니다.</p>
</blockquote>
<center><img src="/2019/03/24/only-one-page-for-functional-programming/monad-definition.svg"></center>

<ol>
<li><strong>‘단위 원소’로 구성된 (1) 데이터 구조</strong></li>
<li><strong>‘단위 원소’에서 ‘Exception 상태를 포함한 (2) 데이터 구조’로의 Mapping 함수</strong></li>
<li><strong>(1) 데이터 구조에서 ‘단위 원소’을 꺼내는 Unwrap(flatMap) 함수</strong></li>
</ol>
<p>모나드에 대한 설명을 보면 Context 와 Content 이 둘을 가진 데이터 타입으로 설명하는 글들이 많습니다. Context 를 값이 있음/없음에 대한 ‘상태’값으로, Content 는 우리가 연산하려는 ‘값’ 내지 ‘결과’값으로 설명합니다. Monad 의 Context 가 꼭 값이 있음/없음의 상태를 가져야하는것은 아니지만 <strong>일반적으로 함수 수행 중에 Exception 이 발생할 수 있는 경우들은 값이 null 인 경우</strong>가 대부분이기 때문에 많은 설명들에서 nullable 로 설명하는것 같습니다. </p>
<h2 id="Function-Composition"><a href="#Function-Composition" class="headerlink" title="Function Composition"></a>Function Composition</h2><p>모나드는 <strong>결과 데이터 구조가 ‘상태’를 갖는다는것</strong> 뿐만 아니라 <strong>함수의 합성이 가능하다는 성질</strong>도 갖습니다.</p>
<ul>
<li><strong>composition</strong> with <strong>associative</strong>:<br>두 Mapping 함수 f(x), g(x) 가 있다면 두 함수를 합성시 f(g(x)) = (f.g)(x) 의 결과를 갖는다.<br>또한 associative 성질에 의해 f(g(x)) = (f.g)(x) = (g.f)(x) = g(f(x)) 도 만족한다.</li>
</ul>
<center><img src="/2019/03/24/only-one-page-for-functional-programming/monad-composition.svg"></center>

<p>이렇게 함수형 프로그래밍의 클로저, 고차함수, 커링, Functor, 모나드 총 5개의 개념을 다뤄보았습니다. 질문이나 논의할 사항이 있으면 댓글이나 개인적으로 알려주시면 감사하겠습니다. 특히 이번 글은 시니어 개발자분의 도움으로 틀린 내용들을 가다듬고 다시 보완할 수 있었습니다. 다음 글에서는 Swift 의 클로저가 외부 변수를 참조하면서 생기는 참조 순환 문제와 그걸 해결하기 위한 기법들을 설명하겠습니다.</p>
<hr>
<p>참조</p>
<ol>
<li><a href="https://medium.com/@sjsyrek/five-minutes-to-functor-83ef9075978b" target="_blank" rel="noopener">https://medium.com/@sjsyrek/five-minutes-to-functor-83ef9075978b</a></li>
<li><a href="https://medium.com/@jooyunghan/functor-and-monad-examples-in-plain-java-9ea4d6630c6" target="_blank" rel="noopener">https://medium.com/@jooyunghan/functor-and-monad-examples-in-plain-java-9ea4d6630c6</a></li>
<li><a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html" target="_blank" rel="noopener">http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html</a></li>
<li><a href="http://seorenn.blogspot.com/2014/06/swift-closures.html" target="_blank" rel="noopener">http://seorenn.blogspot.com/2014/06/swift-closures.html</a></li>
<li><a href="https://stackoverflow.com/questions/356950/what-are-c-functors-and-their-uses" target="_blank" rel="noopener">https://stackoverflow.com/questions/356950/what-are-c-functors-and-their-uses</a></li>
<li><a href="https://stackoverflow.com/questions/2030863/in-functional-programming-what-is-a-functor" target="_blank" rel="noopener">https://stackoverflow.com/questions/2030863/in-functional-programming-what-is-a-functor</a></li>
</ol>

        </div>
        
        
        
    </div>
</div>










    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <!-- <time class="level-item has-text-grey" datetime="2019-03-09T07:24:17.000Z">2019-03-09</time> -->
                <div class="level-item has-text-grey">2019-03-09</div>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Language/">Language</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Language/Swift-4-iOS/">Swift 4+ / iOS</a>
                </div>
                
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/03/09/swift-keyword-open/">Swift 4+ Keywords - &#34;open&#34;</a>
            
        </h1>
        <div class="content">
            <h1 id="접근-제어자-Access-Modifier"><a href="#접근-제어자-Access-Modifier" class="headerlink" title="접근 제어자 (Access Modifier)"></a>접근 제어자 (Access Modifier)</h1><p>프로그래밍 언어에서 Java 를 예로 들자면 public, private, protected 으로 <strong>필드, 함수, 클래스</strong>의 <strong>접근 범위</strong>를 제어할 수 있습니다. final, open, override, abstract 과 같이 상속 관련 키워드들도 ‘접근 제어자’의 범주에 함께 포함됩니다. (접근 제어자를 가시성 변경자 (Visibility Modifier)로 부르기도 합니다.)</p>
<h2 id="취약-기반-클래스-Fragile-Base-Class"><a href="#취약-기반-클래스-Fragile-Base-Class" class="headerlink" title="취약 기반 클래스 (Fragile Base Class)"></a>취약 기반 클래스 (Fragile Base Class)</h2><p><strong>취약 기반 클래스 문제<a href="http://www.cas.mcmaster.ca/~emil/Publications_files/MikhajlovSekerinski98FragileBaseClassProblem.pdf" target="_blank" rel="noopener">^1</a></strong>는 <strong>상속</strong>에 의해 발생하는 문제로 <strong>기반 클래스</strong>와 그를 상속하는 <strong>하위 클래스</strong>가 있다고 가정하였을 때 <strong>기반 클래스의 변경</strong>이 발생하면 <strong>하위 클래스가 깨지는 문제</strong>를 의미합니다. 기반 클래스를 하위 클래스에서 상속할 시 <strong>어떤 메소드를 어떻게 오버라이드할 지에 대한 규칙</strong>을 명시하지 않는다면 하위 클래스에서 의도와 다른 방식으로 메소드 오버라이드를 할 수 있습니다. 또한 기반 클래스의 메소드 목적이 변경되었을 때 하위 클래스의 오버라이드 메소드는 기존 의도와 예기치 못한 채 달라지게 되기 때문에 기반 클래스의 변경은 그를 상속하는 모든 하위 클래스에 영향을 줍니다. 이를 기반 클래스가 취약하다는 의미로 <strong>취약 기반 클래스</strong>라고 부릅니다.</p>
<p>초기 객체지향 프로그래밍 언어에 해당하는 Java, C#, C++ 의 경우에는 객체지향의 특징인 상속이 용이하도록, 접근 제어자를 따로 명시하지 않는다면 <strong>모든 기본 클래스는 상속이 가능</strong>합니다. 하지만 <strong>취약 기반 클래스 문제</strong>를 방지하기 위하여 ‘Effective Java’ 저서에서도 “상속을 위한 설계와 문서를 갖추거나, 그럴 수 없다면 상속을 금지하라”로 언급되듯 <strong>모든 기본 클래스는 상속하지 말 것</strong>을 소프트웨어 아키텍쳐 및 디자인 패턴에서 권장하고 있습니다.</p>
<p>초기 객체지향 프로그래밍을 사용하면서 발견된 한계와 문제들은 언어를 꾸준히 업데이트하면서 보완되기도 하지만, 새로 나오는 언어들은 이러한 좋은 패턴들을 자신들의 특징으로 가져가기도 합니다. 현대 객체지향 프로그래밍 언어인 <strong>Kotlin</strong> 과 <strong>Swift</strong> 가 그 중 하나에 속합니다. 우스갯소리로 이런 언어들을 짬뽕이라고 얘기하기도 하지만 그만큼 패턴들을 문법으로서 강제하는 장점을 갖습니다.</p>
<h1 id="Swift-Kotlin-final-class"><a href="#Swift-Kotlin-final-class" class="headerlink" title="Swift, Kotlin - final class"></a>Swift, Kotlin - final class</h1><p>Java 는 취약 기반 클래스 문제를 갖는 초기 프로그래밍 언어로써 기본적으로 <strong>모든 기본 클래스는 상속이 가능</strong>합니다.<br>Kotlin 과 Swift 는 위 문제 해결을 위하여 기본적으로 <strong>모든 기본 클래스는 상속이 불가능(final)</strong>합니다.<br>따라서 Swift 의 두 타입인 class 와 struct 모두 기본적으로 상속이 불가능합니다. </p>
<p>추가로 Java 의 변수, 클래스, 함수 모두 기본적으로 아무 접근 제어자를 명시하지 않으면 package-<strong>private</strong> 로 선언되지만<br>Kotlin 과 Swift 의 경우 아무 접근 제어자를 명시하지 않으면 <strong>public</strong> 으로 선언되어 어디서든지 사용할 수 있으며, public 은 기본적으로 final로 상속이 불가능합니다.</p>
<ul>
<li><strong>public</strong> = <strong>Uninheritable</strong>, Callable</li>
<li><strong>open</strong> = <strong>Inheritable</strong>, Callable</li>
</ul>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">open</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">open</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">login</span><span class="hljs-params">()</span></span> &#123; &#125;</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">playGame</span><span class="hljs-params">()</span></span> &#123; &#125;</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>() &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin, Swift 모두 상속을 하기 위해서는 클래스, 함수, 변수 모두에 open 키워드를 추가해야합니다. 함수와 변수에 open 키워드를 사용하여 클래스 전체 레벨이 아닌 함수, 변수 레벨에서 ‘상속 가능한 것’과 ‘상속 불가능한 것’들을 쉽게 관리할 수 있다는 장점이 있습니다.</p>
<hr>
<p>살펴본 바와 같이 Java 와 Kotlin, Swift 의 상속에 대한 처리는 완전히 반대입니다. Public 한 클래스와 함수들에게 <strong>기본적으로 상속 가능</strong>하게 하고 상속을 제한하기 위해서 private 나 protected 와 같은 접근 제한자를 사용하게 하는 <strong>Java</strong> 와 반대로 <strong>Kotlin, Swift</strong> 는 개발자들에게 <strong>기본적으로 모두 상속 불가능</strong>하게 하고 상속을 하기위해선 open 을 명시하게끔 제한함으로써 잘못 상속하는걸 방지합니다. 그래서 Swift 에서 얼핏 open 을 사용하다보면 함수, 변수 단위의 상속 여부를 결정하기 때문에 Java 에서 abstract 와 비슷하단 느낌을 받습니다.</p>
<hr>
<p>참조</p>
<ol>
<li><a href="https://www.hackingwithswift.com/example-code/language/what-does-the-open-keyword-do" target="_blank" rel="noopener">https://www.hackingwithswift.com/example-code/language/what-does-the-open-keyword-do</a></li>
</ol>

        </div>
        
        
        
    </div>
</div>










</div>
                
                    




<div class="column is-3-tablet is-3-desktop is-3-widescreen  has-order-1 column-left is-sticky">
    
        
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Design-Pattern/">
            <span class="level-start">
                <span class="level-item">Design Pattern</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Design-Pattern/Adapter-Decorator/">
            <span class="level-start">
                <span class="level-item">Adapter, Decorator</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Design-Pattern/Factory/">
            <span class="level-start">
                <span class="level-item">Factory</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Design-Pattern/Observer/">
            <span class="level-start">
                <span class="level-item">Observer</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Design-Pattern/Singleton/">
            <span class="level-start">
                <span class="level-item">Singleton</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Language/">
            <span class="level-start">
                <span class="level-item">Language</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Language/Functional-Programming/">
            <span class="level-start">
                <span class="level-item">Functional Programming</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Language/Kotlin/">
            <span class="level-start">
                <span class="level-item">Kotlin</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Language/Swift-4-iOS/">
            <span class="level-start">
                <span class="level-item">Swift 4+ / iOS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Programming/">
            <span class="level-start">
                <span class="level-item">Programming</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Programming/Develop/">
            <span class="level-start">
                <span class="level-item">Develop</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/Licenses/">
            <span class="level-start">
                <span class="level-item">Licenses</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Workplace/">
            <span class="level-start">
                <span class="level-item">Workplace</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/avatar.png" alt="Aaron Ryu">
                    
                    
                    <p class="is-size-4 is-block">
                        Aaron Ryu
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Software Developer
                    </p>
                    
                    
                </div>
            </div>
        </nav>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/aaronryu">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Gitlab" href="https://gitlab.com/aaronryu">
                
                <i class="fab fa-gitlab"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="RSS" href="/atom.xml">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        13
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        13
                    </p>
                </div>
            </div>
        </nav>
        
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-12-14T17:32:23.000Z">2019-12-15</time></div>
                    <a href="/2019/12/15/one-page-for-regular-expression/" class="has-link-black-ter is-size-6">한 장으로 보는 정규표현식</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/Licenses/">Licenses</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-08-10T06:31:23.000Z">2019-08-10</time></div>
                    <a href="/2019/08/10/software-licences/" class="has-link-black-ter is-size-6">오픈 소스(공개 소프트웨어)의 다양한 라이센스들</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/Licenses/">Licenses</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-29T05:20:40.000Z">2019-06-29</time></div>
                    <a href="/2019/06/29/ios-design-patterns/" class="has-link-black-ter is-size-6">개발 일지 - iOS 아키텍쳐 패턴 MVC, MVVM, VIPER</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/Develop/">Develop</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        


    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
        </div>
    
</div>

                    
                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    Crucian Carp
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Aaron Ryu&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>