{"version":3,"file":"component---src-templates-post-index-tsx-29759cd678efe53ad68d.js","mappings":"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","sources":["webpack://aaron-blog/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://aaron-blog/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://aaron-blog/./node_modules/@babel/runtime/helpers/construct.js","webpack://aaron-blog/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://aaron-blog/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://aaron-blog/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://aaron-blog/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://aaron-blog/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://aaron-blog/./node_modules/gatsby-plugin-mdx/index.js","webpack://aaron-blog/./node_modules/gatsby-plugin-mdx/mdx-renderer.js","webpack://aaron-blog/./src/components/comment/index.tsx","webpack://aaron-blog/./src/templates/post/post-seo.tsx","webpack://aaron-blog/./src/templates/post/table-of-contents.tsx","webpack://aaron-blog/./src/templates/post/index.tsx","webpack://aaron-blog/./src/templates/post/scroll.tsx"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * Welcome to gatsby-plugin-mdx!\n *\n * Start reading in gatsby-node.js\n */\n\nconst MDXRenderer = require(`./mdx-renderer`)\n\nmodule.exports = {\n  MDXRenderer: MDXRenderer,\n}\n","const React = require(`react`)\nconst { mdx } = require(`@mdx-js/react`)\nconst { useMDXScope } = require(`./context`)\n\nmodule.exports = function MDXRenderer({\n  scope,\n  children,\n  ...props\n}) {\n  const mdxScope = useMDXScope(scope)\n\n  // Memoize the compiled component\n  const End = React.useMemo(() => {\n    if (!children) {\n      return null\n    }\n\n    const fullScope = {\n      // React is here just in case the user doesn't pass them in\n      // in a manual usage of the renderer\n      React,\n      mdx,\n      ...mdxScope,\n    }\n\n    const keys = Object.keys(fullScope)\n    const values = keys.map(key => fullScope[key])\n    const fn = new Function(`_fn`, ...keys, `${children}`)\n\n    return fn({}, ...values)\n  }, [children, scope])\n\n  return React.createElement(End, {...props })\n}\n","import { css, Global } from \"@emotion/react\"\nimport React, { createRef, useEffect, useRef } from \"react\"\n\nconst Comment: React.FunctionComponent = () => {\n  const REPO_FOR_SEARCH = 'aaronryu/aaronryu.github.io'\n  const containerRef = useRef() as React.MutableRefObject<HTMLDivElement>\n\n  useEffect(() => {\n    const utterances = document.createElement(\"script\")\n    const attributes = {\n      src: \"https://utteranc.es/client.js\",\n      repo: REPO_FOR_SEARCH,\n      \"issue-term\": \"pathname\",\n      label: \"comment\",\n      theme: \"github-dark-orange\",\n      crossOrigin: \"anonymous\",\n      async: \"true\",\n    }\n    Object.entries(attributes).forEach(([key, value]) => {\n      utterances.setAttribute(key, value)\n    })\n    containerRef.current.appendChild(utterances)\n  }, [])\n  \n  return (\n    <>\n      <Global styles={styles.global} />\n      <div id=\"comment\" ref={containerRef} />\n    </>\n  )\n}\n\nconst styles = {\n  global: css`\n    .utterances {\n      max-width: 830px;\n      margin-bottom: 1.5rem;\n    }\n  `,\n}\n\nexport default Comment","import React from \"react\"\nimport Seo from \"../../components/seo\"\n\nexport type ArticleSchemaType =\n  \"TechArticle\" |\n  \"AnalysisNewsArticle\" |\n  \"OpinionNewsArticle\" |\n  \"ReviewNewsArticle\"\n\ninterface SeoProps {\n  type?: ArticleSchemaType\n  articleUrl: string\n  siteUrl: string\n  author: string\n  title: string\n  date: string\n  updateDate: string\n  imageSrc?: string\n  deck?: string\n  abstract?: string\n}\n\n// todo - how to boost my SEO. type 어떤걸로 하는게 좋을까 TechArticle 말고 좀 더 고도화하고싶은데, 정의된게 있는지 내가 직접 정의하면 되는건지?\nconst PostSeo: React.FunctionComponent<SeoProps> = ({\n  type,\n  imageSrc,\n  siteUrl,\n  author,\n  title,\n  date,\n  updateDate,\n  deck,\n  abstract,\n  articleUrl,\n}) => (\n  <>\n    <Seo\n      title={title}\n      description={deck || abstract}\n      meta={\n        imageSrc ? [{ property: 'og:image', content: siteUrl + imageSrc }] : []\n      }\n    />\n    <script type=\"application/ld+json\">{`\n      {\n        \"@context\": \"http://schema.org\",\n        \"@type\": \"${type ? type : 'TechArticle'}\",\n        \"headline\": \"${title}\",\n        \"datePublished\": \"${date}\",\n        \"dateModified\": \"${updateDate}\",\n        \"image\": ${JSON.stringify(imageSrc ? [siteUrl + imageSrc] : [])},\n        \"author\": {\n          \"@type\": \"Person\",\n          \"name\": \"${author}\"\n        },\n        \"publisher\": {\n          \"@type\": \"Organization\",\n          \"name\": \"Aaron Ryu\",\n          \"logo\": {\n            \"@type\": \"ImageObject\",\n            \"url\": \"${siteUrl}/images/profile-todo-change.png\"\n          }\n        },\n        \"description\": \"${deck || abstract}\",\n        \"mainEntityOfPage\": {\n          \"@type\": \"WebPage\",\n          \"@id\": \"${siteUrl}/${articleUrl}\"\n        }\n      }\n  `}</script>\n  </>\n)\n\nexport default PostSeo","import React from 'react'\n\nexport interface TocHeaders {\n  items: Array<TocHeader>\n}\n\nexport interface TocHeader {\n  url: string, title: string, items?: Array<TocHeader>\n}\n\ninterface Props {\n  toc: TocHeaders,\n  depth: number,\n  currentHeaderUrl: string\n}\n\nconst makeTocHeaderHtml = (each: TocHeader, remainDepth: number) => \n  (each.items !== undefined)\n    ? (\n      <React.Fragment key={each.title}>\n        <li><a href={each.url}>{each.title}</a></li>\n        <ul>{makeTocHeadersHtml(each.items, (remainDepth - 1))}</ul>\n      </React.Fragment>\n    )\n    : <li key={each.title}><a href={each.url}>{each.title}</a></li>\n\nconst makeTocHeadersHtml = (items: Array<TocHeader>, depth: number) => {\n  return <React.Fragment key={depth}>{(depth > 0) && items.map((each) => makeTocHeaderHtml(each, depth))}</React.Fragment>\n}\n\nconst makeToc = (toc: TocHeaders, depth: number) => \n  (toc.items !== undefined)\n    ? <ul>{makeTocHeadersHtml(toc.items, depth)}</ul>\n    : <></>\n\nconst TableOfContents: React.FunctionComponent<Props> = ({ toc, depth, currentHeaderUrl }) => {\n  return (\n    <div\n      css={{\n        'ul:first-of-type': {\n          marginLeft: '-0.8rem',\n        },\n        // 낮은 depth가 더 안쪽으로 들어가도록 모든 ul에 marginLeft를 부여한다.\n        '& ul': {\n          marginLeft: '-1.4rem',\n        },\n        // currentHeaderUrl 문자열이 href 속성에 포함된다면 아래 스타일을 부여한다. \n        // 현재 스크롤에 해당하는 Header를 하이라이트 하기 위함\n        [`& ul > li a[href*=\"${currentHeaderUrl}\"]`]: {\n          color: 'var(--text0)',\n          fontWeight: '600',\n        },\n        fontSize: '0.73rem',\n        lineHeight: '1.2rem',\n        fontWeight: 500,\n        //\n        position: 'fixed',\n        top: 100,\n        minHeight: 100,\n        margin: '1rem 1rem 1rem calc(50vw + 400px - 10px)',\n        '@media only screen and (max-width: 1280px)': {\n          margin: '1rem 1rem 1rem calc(800px + 50px - 10px)',\n        },\n        '@media only screen and (max-width: 1024px)': {\n          margin: '1rem 1rem 1rem calc(800px - 10px)',\n          'ul:first-of-type': {\n            marginLeft: '-1rem',\n          },\n          // 낮은 depth가 더 안쪽으로 들어가도록 모든 ul에 marginLeft를 부여한다.\n          '& ul': {\n            marginLeft: '-1.8rem',\n          },\n          fontSize: '0.65rem',\n          lineHeight: '1rem',\n        },\n        '@media only screen and (max-width: 970px)': {\n          display: 'none',\n        },\n        borderLeft: '1px solid var(--hr)',\n      }}\n    >\n      {makeToc(toc, depth)}\n    </div>\n  )\n}\n\nexport default TableOfContents\n","import { graphql } from 'gatsby'\nimport { css } from '@emotion/react'\nimport useSiteMetadata from '../../hooks/use-sitemetadata'\nimport React, { useEffect, useState } from 'react'\nimport Article from './post-article'\nimport PostSeo from './post-seo'\nimport { useScroll } from './scroll'\nimport { NodeDetail } from '../../hooks/use-nodes-details'\nimport TableOfContents from './table-of-contents'\n\ninterface Props {\n  location: string\n  pageContext: any\n  data: {\n    mdx: NodeDetail\n  }\n}\n\nconst HEADER_OFFSET_Y = 81\nconst PostTemplate: React.FunctionComponent<Props> = ({\n  location, data: { mdx }, pageContext\n}) => {\n  const { id, frontmatter, toc, body, slug } = mdx\n  const categoryUrl = `/${frontmatter.category}`\n  const articleUrl = `${categoryUrl}/${slug}`\n\n  const { author, siteUrl } = useSiteMetadata()\n  const imageSrc = frontmatter.image\n    ? frontmatter.image.childImageSharp.fluid.srcWebp\n    : ''\n  const [currentHeaderUrl, setCurrentHeaderUrl] = useState<string>('')\n  const { scrollY } = useScroll();\n\n  const handleScroll = (currentOffsetY: number) => {\n    let aboveHeaderUrl // 화면 바로 위쪽에 위치한 header\n    const headerElements: NodeListOf<Element> = document.querySelectorAll('.anchor-header')\n    for (const elem of Array.from(headerElements)) {\n      const { top } = elem.getBoundingClientRect()\n      const elemTop = top + currentOffsetY\n      const isLast = elem === headerElements[headerElements.length - 1]\n      if (currentOffsetY < elemTop - HEADER_OFFSET_Y) {\n        // 기억해둔 aboveHeaderUrl이 있다면 바로 위 header와 현재 element 사이에 화면이 스크롤 되어 있다.\n        aboveHeaderUrl &&\n          setCurrentHeaderUrl(aboveHeaderUrl)\n        // 기억해둔 aboveHeaderUrl이 없다면 첫번째 header다. \n        // 이때는 어떤 header도 active 하지 않은 상태다.\n        !aboveHeaderUrl && setCurrentHeaderUrl('')\n        break;\n      } else {\n        // 마지막 header면 다음 element가 없기 때문에 현재 header를 active header라 간주한다.\n        const href = elem.getAttribute('href')\n        if (href) {\n          if (isLast)\n            setCurrentHeaderUrl(decodeURI(href))\n          else\n            aboveHeaderUrl = decodeURI(href)\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    handleScroll(scrollY)\n  }, [scrollY])\n\n  return (\n    <div css={styles.container}>\n        <PostSeo\n          // type\n          {...{ imageSrc, siteUrl, author }}\n          articleUrl={articleUrl}\n          title={frontmatter.title}\n          deck={frontmatter.deck}\n          abstract={frontmatter.abstract}\n          date={frontmatter.date}\n          updateDate={frontmatter.updateDate}\n        />\n        <TableOfContents\n          toc={toc}\n          depth={4}\n          currentHeaderUrl={currentHeaderUrl}\n        />\n        <Article\n          categories={frontmatter.categoryNames}\n          headline={frontmatter.title}\n          deck={frontmatter.deck}\n          abstract={frontmatter.abstract}\n          epigraph={frontmatter.epigraph}\n          epigraphAuthor={frontmatter.epigraphAuthor}\n          date={frontmatter.date}\n          dateFormatted={frontmatter.dateFormatted}\n          body={body}\n          embeddedImagesLocal={frontmatter.embeddedImagesLocal}\n          articleUrl={articleUrl}\n          categoryUrl={categoryUrl}\n          imageAlt={frontmatter.imageAlt}\n          image={frontmatter.image}\n        />\n    </div>\n  )\n}\n\nconst styles = {\n  container: css`\n    margin-top: 4rem;\n  `,\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    mdx(slug: { eq: $slug }) {\n      id\n      slug\n      toc: tableOfContents\n      body\n      frontmatter {\n        title\n        category\n        categoryNames\n        date(formatString: \"MMMM D, YYYY\")\n        dateFormatted: date(formatString: \"MMM D, YYYY hh:mmA\")\n        updateDate\n        author\n        imageAlt\n        image {\n          childImageSharp {\n            gatsbyImageData\n            fluid(quality: 80, maxWidth: 1540) {\n              ...GatsbyImageSharpFluid_withWebp\n            }\n          }\n        }\n        embeddedImagesLocal {\n          childImageSharp {\n            gatsbyImageData\n          }\n        }\n        deck\n        abstract\n        epigraph\n        epigraphAuthor\n      }\n    }\n  }\n`\n\nexport default PostTemplate\n","import { useState, useEffect } from 'react';\n\nexport function useScroll() {\n  const [scrollY, setScrollY] = useState<number>(0);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    let mounted = true;\n    window.addEventListener('scroll', () => {\n      if (mounted) {\n        setScrollY(window.pageYOffset);\n        setLoading(false);\n      }\n    });\n    return () => {\n      mounted = false;\n      // window.removeEventListener('scroll', debounce(listener, delay));\n    }\n  }, []);\n\n  return {\n    scrollY\n  };\n}"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","arrayLikeToArray","isArray","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","args","Class","Reflect","construct","a","push","apply","instance","Function","bind","prototype","arguments","sham","Proxy","Boolean","valueOf","call","e","iter","Symbol","iterator","from","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","o","minLen","n","Object","toString","slice","constructor","name","test","MDXRenderer","require","React","mdx","useMDXScope","scope","children","props","mdxScope","End","useMemo","fullScope","keys","values","map","key","fn","createElement","styles","global","containerRef","useRef","useEffect","utterances","document","attributes","src","repo","label","theme","crossOrigin","async","entries","forEach","value","setAttribute","current","appendChild","_jsxs","_jsx","Global","id","ref","type","imageSrc","siteUrl","author","title","date","updateDate","deck","abstract","articleUrl","Seo","description","meta","property","content","JSON","stringify","makeTocHeadersHtml","items","depth","each","remainDepth","undefined","href","url","makeTocHeaderHtml","makeToc","toc","currentHeaderUrl","css","marginLeft","color","fontWeight","fontSize","lineHeight","position","top","minHeight","margin","display","borderLeft","container","location","data","pageContext","frontmatter","body","slug","categoryUrl","category","useSiteMetadata","image","childImageSharp","fluid","srcWebp","setCurrentHeaderUrl","useState","scrollY","setScrollY","loading","setLoading","mounted","window","addEventListener","pageYOffset","useScroll","currentOffsetY","aboveHeaderUrl","headerElements","querySelectorAll","elem","getBoundingClientRect","elemTop","isLast","getAttribute","decodeURI","handleScroll","PostSeo","TableOfContents","Article","categories","categoryNames","headline","epigraph","epigraphAuthor","dateFormatted","embeddedImagesLocal","imageAlt"],"sourceRoot":""}